@model Proyecto_1.Models.ViewIndex

@{
    ViewData["Title"] = "Página Principal";
}

<h1>Reservas de Viajes</h1>

<!-- Sección de búsqueda de rutas -->
<div>
    <h2>Buscar Rutas</h2>
    <form asp-action="Busqueda" method="get">
        <div>
            <label>Origen:</label>
            <input type="text" name="origen" required />
        </div>
        <div>
            <label>Destino:</label>
            <input type="text" name="destino" required />
        </div>
        <div>
            <label>Fecha:</label>
            <input type="date" name="fecha" required />
        </div>
        <button type="submit">Buscar</button>
    </form>
</div>

<!-- Lista de rutas disponibles -->
<div>
    <h2>Rutas Disponibles</h2>

    @if (Model.RutasDisponibles != null && Model.RutasDisponibles.Any())
    {
        <table>
            <tr>
                <th>Origen</th>
                <th>Destino</th>
                <th>Fecha</th>
                <th>Disponibilidad</th>
            </tr>

            @foreach (var ruta in Model.RutasDisponibles)
            {
                <tr>
                    <td>@ruta.Origen</td>
                    <td>@ruta.Destino</td>
                    <td>@ruta.Horario.ToShortDateString()</td>
                    <td>
                        @if (ruta.AsientosDisponibles > 0)
                        {
                            <span>Disponible</span>
                        }
                        else
                        {
                            <span>No Disponible</span>
                        }
                    </td>
                </tr>
            }
        </table>
    }
    else
    {
        <p>No hay rutas disponibles en este momento.</p>
    }
</div>

<!-- Sección de promociones -->
<div>
    <h2>Promociones</h2>
    @if (Model.Promociones != null && Model.Promociones.Any())
    {
        <ul>
            @foreach (var promo in Model.Promociones)
            {
                <li>
                    <strong>@promo.Descripcion</strong><br />
                    <em>Válido del @promo.FechaInicio.ToShortDateString() al @promo.FechaFin.ToShortDateString()</em>
                    <br />
                </li>
            }
        </ul>
    }
    else
    {
        <p>No hay promociones disponibles en este momento.</p>
    }
</div>
